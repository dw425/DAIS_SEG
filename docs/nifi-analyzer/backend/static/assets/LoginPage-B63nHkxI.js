import{r as d,u,j as e,a as f,b}from"./index-tIH9TuVJ.js";import{R as j}from"./RegisterPage-xaxt3pgu.js";function v({onSwitchToRegister:m}){const[t,n]=d.useState(""),[s,i]=d.useState(""),{login:l,isLoading:a,error:c,clearError:h}=u(),p=async o=>{var g,x;o.preventDefault(),h();try{await l(t,s)}catch(r){const y=((x=(g=r==null?void 0:r.response)==null?void 0:g.data)==null?void 0:x.detail)||(r==null?void 0:r.message)||"Login failed. Please check your credentials.";u.setState({error:y})}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-950",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-2xl p-8 shadow-xl",children:[e.jsxs("div",{className:"flex items-center justify-center gap-3 mb-8",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary/20 flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),e.jsx("h1",{className:"text-xl font-bold text-gray-100",children:"ETL Migration Platform"})]}),e.jsx("h2",{className:"text-lg font-semibold text-gray-100 mb-1",children:"Sign in"}),e.jsx("p",{className:"text-sm text-gray-400 mb-6",children:"Enter your credentials to access the platform."}),c&&e.jsx("div",{className:"mb-4 p-3 rounded-lg bg-red-500/10 border border-red-500/30 text-red-400 text-sm",children:c}),e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Email"}),e.jsx("input",{type:"email",value:t,onChange:o=>n(o.target.value),required:!0,className:`w-full px-3 py-2.5 bg-gray-800 border border-gray-700 rounded-lg text-gray-100 text-sm
                  placeholder-gray-500 focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition`,placeholder:"you@company.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1.5",children:"Password"}),e.jsx("input",{type:"password",value:s,onChange:o=>i(o.target.value),required:!0,className:`w-full px-3 py-2.5 bg-gray-800 border border-gray-700 rounded-lg text-gray-100 text-sm
                  placeholder-gray-500 focus:outline-none focus:border-primary focus:ring-1 focus:ring-primary transition`,placeholder:"Enter your password"})]}),e.jsx("button",{type:"submit",disabled:a,className:`w-full py-2.5 px-4 bg-primary hover:bg-primary/90 disabled:opacity-50 disabled:cursor-not-allowed
                text-white font-medium rounded-lg text-sm transition`,children:a?"Signing in...":"Sign in"})]}),e.jsxs("p",{className:"mt-6 text-center text-sm text-gray-400",children:["Don't have an account?"," ",e.jsx("button",{onClick:m,className:"text-primary hover:underline font-medium",children:"Create one"})]})]})})})}function S(){const[m,t]=d.useState("login"),{token:n}=u(),s=f(),i=b();return d.useEffect(()=>{var l,a;if(n){const c=((a=(l=i.state)==null?void 0:l.from)==null?void 0:a.pathname)||"/dashboard";s(c,{replace:!0})}},[n,s,i]),m==="register"?e.jsx(j,{onSwitchToLogin:()=>t("login")}):e.jsx(v,{onSwitchToRegister:()=>t("register")})}export{S as default};
